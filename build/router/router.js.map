{"version":3,"sources":["../../src/router/router.js"],"names":[],"mappings":"AAAA,MAAM,EAAC,OAAD,KAAY,QAAQ,MAAR,CAAlB;AACA,MAAM,sBAAsB,QAAQ,0CAAR,CAA5B;AACA,MAAM,yBAAyB,QAAQ,gDAAR,CAA/B;AACA,MAAM,uBAAuB,QAAQ,4CAAR,CAA7B;;AAEA,OAAO,OAAP,GAAiB,UAAS,MAAT,EAAiB;AAC9B,UAAM,MAAM,OAAO,GAAnB;AACA,UAAM,WAAW,OAAO,QAAxB;AACA,UAAM,UAAU,OAAO,OAAvB;AACA,QAAI,WAAJ;;AAEA,UAAM,gBAAgB,QAAQ,SAAS,SAAT,GAAqB;;AAE/C,YAAI,WAAJ,EAAiB;AACb,gBAAI,KAAJ,CAAU,WAAV;AACA,gBAAI,kBAAJ,CAAuB,SAAvB;AACH;;AAED,iBAAS,OAAT,CAAiB,OAAjB,EAA0B;AACtB,gBAAI,OAAO,QAAQ,OAAR,EAAiB,GAAjB,CAAX;AACA,iBAAK,KAAL;AACA,0BAAc,IAAd;AACA,gBAAI,MAAJ,CAAW,IAAX;AACH;;AAED,gBAAQ,SAAS,IAAjB;AACI,iBAAK,QAAL;AACI,wBAAQ,mBAAR;AACA;AACJ,iBAAK,WAAL;AACI,wBAAQ,sBAAR;AACA;AACJ,iBAAK,eAAL;AACI,wBAAQ,oBAAR;AACA;AACJ,iBAAK,EAAL;AACI;AACJ;AACI,wBAAQ,GAAR,CAAY,yBAAZ;AACA;AAdR;;AAiBA,YAAI,IAAJ,CAAS,SAAT;AACH,KAhCqB,CAAtB;;AAkCA,WAAO,aAAP;AACH,CAzCD","file":"router.js","sourcesContent":["const {autorun} = require('mobx');\nconst splashScreenBuilder = require('../components/splash-screen/splashScreen');\nconst configureScreenBuilder = require('../components/configure-screen/configureScreen');\nconst loadingScreenBuilder = require('../components/loading-screen/loadingScreen');\n\nmodule.exports = function(config) {\n    const app = config.app;\n    const AppState = config.AppState;\n    const blessed = config.blessed;\n    let currentPage;\n\n    const disposeRoutes = autorun(function onPageSet() {\n\n        if (currentPage) {\n            app.clear(currentPage);\n            app.removeAllListeners('pageSet');\n        }\n\n        function setPage(builder) {\n            let page = builder(blessed, app);\n            page.focus();\n            currentPage = page;\n            app.render(page);\n        }\n\n        switch (AppState.page) {\n            case 'splash':\n                setPage(splashScreenBuilder);\n                break;\n            case 'configure':\n                setPage(configureScreenBuilder);\n                break;\n            case 'loadingScreen':\n                setPage(loadingScreenBuilder);\n                break;\n            case '':\n                break;\n            default:\n                console.log('Error-Invalid page type');\n                break;\n        }\n\n        app.emit('pageSet');\n    });\n\n    return disposeRoutes;\n}\n"]}